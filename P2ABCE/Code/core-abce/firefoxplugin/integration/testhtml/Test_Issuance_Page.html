<!DOCTYPE html>
<html>
	<head>
	    <meta charset="utf-8">    
	    <title>Test Issuance Page (Server Side)</title>    
	    <!-- load Dojo : IMPORTANT! Stick with Dojo version 1.6.0 -->    
	    <script src="http://ajax.googleapis.com/ajax/libs/dojo/1.6.0/dojo/dojo.xd.js"></script>
	    <!-- script src="file:///C:/Users/soh/ABC4Trust_SourceCode/java/ri/trunk/firefoxplugin/abc4trust/testhtml/dojo-release-1.7.1/dojo-release-1.7.1/dojo/dojo.js"></script -->
	    <script>
	    	<!-- loading dojo library -->
	    	dojo.require("dojo.fx");
	    	dojo.require("dijit.layout.TabContainer");
	    	dojo.require("dijit.layout.ContentPane");
	    	dojo.require("dojo.parser");
	        dojo.require("dijit.form.TextBox");
	        dojo.require("dijit.form.ValidationTextBox");
	        dojo.require("dijit.form.Button");
	        
	        
	        //to check the dojo library version
	        dojo.ready(function()
	    		       {
	    					//alert("Dojo version " + dojo.version + " is loaded"); 
	    		  	   });  
	        
	        function triggerPlugin()
	        {
	        	var element = document.createElement("ABC4TrustDataElement");
	            element.setAttribute("abc4trust_command", "displayChoices");
	            element.setAttribute("input", "jsonlistofchoices");
	         
	        	document.documentElement.appendChild(element);

	        	var evt = document.createEvent("Events");
	        	evt.initEvent("ABC4TrustEvent", true, false);
	        	element.dispatchEvent(evt);
	        }
	    </script>
	    
	    <!-- css style -->
	    <style type="text/css">
	    h3
	    {
	    	margin : 10px;
	    }
	    
	    label
	    {
	    	text-align : left;
	    	width : 70px;
	    	padding-right : 20px;
	    }
	    
	    br
	    {
	    	clear : left; 
	    }
	    
	    .grouping
	    {
	    	width : 300px;
	    	border : solid 1px rgb(230, 230, 230);
	    	padding : 5px;
	    	margin : 10px;
	    }
	    </style>
	</head>
	<body>    
		<h1 id="title" align=center><font color="blue">Test Issuance Page</font></h1>
		<p id="about" align=center>ABOUT : This page is a test page where server side issuance responds based on user's GET request.</p>
		<p id="content"></p>
		<br>
		<br>
		
		<div align="center">
		<h3>Login for our service</h3>
	    <form id="registration_form">
	        <div class="grouping">
    	        <label>First Name:</label>
                <input type="text"
        	           maxlength=25
                       name="first"
                       dojoType="dijit.form.TextBox"
                       trim="true"
                       propercase="true"/>
                <br>
                <label>Last Name:</label>
                <input type="text"
                       maxlength=25
                       name="last"
                       dojoType="dijit.form.TextBox"
                       trim="true"
                       propercase="true"/>
                <br>
                <label>Your Email:</label>
                <input type="text"
                       maxlength=25
                       name="email"
                       dojoType="dijit.form.ValidationTextBox"
                       trim="true"
                       lowercase="true"
                       regExp="[a-z0-9._%+-]+@[a-z0-9-]+\.[a-z]{2,4}"
                       required="true"
                       invalidMessage="Please enter a valid e-mail address"/>
                <br>
                <br>
                <button dojoType="dijit.form.Button"
                        onClick="triggerPlugin()">Login!</button>
                </div>
            </form>
         </div>   
	</body>
</html>